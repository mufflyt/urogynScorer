"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8219],{92676:function(e,t,a){a.d(t,{AQ:function(){return p},IP:function(){return f},gr:function(){return d},l2:function(){return u},yg:function(){return m},zB:function(){return c}});var r=a(5362),s=a(27218),i=a(14448),n=a(13262),l=a(77930),o=a(78880);let d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{activeOrganization:a}=(0,s.t)(),i=null==a?void 0:a.uuid,n=g(),l=(0,o.gb)();return(0,r.uC)(()=>"/api/organizations/".concat(i,"/projects/").concat(e,"/syncs"),"POST",{enabled:!!(a&&e),...t,onSuccess:function(){for(var a,r=arguments.length,s=Array(r),i=0;i<r;i++)s[i]=arguments[i];n(e),null===(a=t.onSuccess)||void 0===a||a.call(t,...s)},onError:function(){for(var e,a=arguments.length,r=Array(a),s=0;s<a;s++)r[s]=arguments[s];null===(e=t.onError)||void 0===e||e.call(t,...r);let[i,n]=r;l(i,n)}})},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{activeOrganization:a}=(0,s.t)(),i=null==a?void 0:a.uuid,n=g();return(0,r.uC)(()=>"/api/organizations/".concat(i,"/projects/").concat(e,"/syncs"),"PUT",{enabled:!!(a&&e),...t,onSuccess:function(){for(var a,r=arguments.length,s=Array(r),i=0;i<r;i++)s[i]=arguments[i];n(e),null===(a=t.onSuccess)||void 0===a||a.call(t,...s)}})},c=e=>{let{activeOrganization:t}=(0,s.t)(),a=null==t?void 0:t.uuid,i=g();return(0,r.Ne)(t=>"/api/organizations/".concat(a,"/projects/").concat(e,"/syncs/").concat(t),"DELETE",(e,t)=>t?t.filter(t=>t.uuid!==e):t,{queryKey:[n.AI,{orgUuid:a,projectUuid:e}],enabled:!!t,onSuccess:()=>{i(e)}})},f=e=>{let{activeOrganization:t}=(0,s.t)(),a=null==t?void 0:t.uuid,i=g();return(0,r.Ne)(()=>"/api/organizations/".concat(a,"/projects/").concat(e,"/syncs/delete_many"),"POST",(e,t)=>t?t.filter(t=>!e.sync_source_uuids.includes(t.uuid)):t,{queryKey:[n.AI,{orgUuid:a,projectUuid:e}],enabled:!!t,onSuccess:()=>{i(e)}})},m=e=>{let{activeOrganization:t}=(0,s.t)(),{value:a}=(0,i.F)("nighthawk_enabled"),{value:l}=(0,i.F)("kingfisher_enabled"),{value:d}=(0,i.F)("spider_enabled_2"),u=null==t?void 0:t.uuid,c=(a||l||d)&&!!t&&!!e,{data:f,isLoading:m}=(0,r.WE)("/api/organizations/".concat(u,"/projects/").concat(e,"/syncs"),{queryKey:[n.AI,{orgUuid:u,projectUuid:e}],enabled:c,refetchInterval:e=>{var t;return(null===(t=e.state.data)||void 0===t?void 0:t.some(o.sf))?5e3:3e5}});return{data:f,isLoading:!!c&&m}},g=()=>{let{activeOrganization:e}=(0,s.t)(),t=null==e?void 0:e.uuid,a=(0,l.useQueryClient)();return e=>{a.invalidateQueries({queryKey:[n.AI,{orgUuid:t,projectUuid:e}]}),a.invalidateQueries({queryKey:[n.Xg,{orgUuid:t,projectUuid:e}]})}},p=e=>{let{data:t}=m(e);return!!(null==t?void 0:t.some(o.sf))}},15350:function(e,t,a){a.d(t,{Vq:function(){return x},Z0:function(){return p},mo:function(){return v},nR:function(){return h}});var r=a(66557),s=a(27218),i=a(6385),n=a(10228),l=a(7653),o=a(15992),d=a(95899),u=a(92676),c=a(32559),f=a(78880),m=a(35548),g=a(74119);let p=()=>{let{data:e,isLoading:t}=(0,c.O3)(),a=(0,g.H)();return t?{projects:[],isLoading:t,createProjectsDisabled:!1}:{projects:e,isLoading:t,createProjectsDisabled:void 0!==a&&void 0!==e&&e.length>=a}},v=()=>{var e,t,a,r,i,n;let{config:l}=(0,o.useConfig)("hatch_token_limits"),d=(0,s.Cf)(),u=(0,s.ZJ)(),c=l.get("default",{});return Math.round(.9*(d?null!==(t=null==c?void 0:null===(e=c.raven)||void 0===e?void 0:e.hardLimit)&&void 0!==t?t:19e4:u?null!==(r=null==c?void 0:null===(a=c.pro)||void 0===a?void 0:a.hardLimit)&&void 0!==r?r:19e4:null!==(n=null==c?void 0:null===(i=c.free)||void 0===i?void 0:i.hardLimit)&&void 0!==n?n:25e3))-4e3},h=e=>{let{data:t}=(0,d.Kf)(e),{data:a}=(0,u.yg)(e),{data:s}=(0,d.pK)(e),o=null==s?void 0:s.filter(e=>"document"===e.file_kind),c=(0,l.useMemo)(()=>{var e;return null!==(e=null==o?void 0:o.reduce((e,t)=>e+(0,m.ZJ)(t),0))&&void 0!==e?e:0},[o]),g=null==s?void 0:s.filter(e=>"image"===e.file_kind),p=(0,l.useMemo)(()=>{var e;return null!==(e=null==g?void 0:g.reduce((e,t)=>e+(0,m.Rv)(t),0))&&void 0!==e?e:0},[g]),v=(0,l.useMemo)(()=>(t||[]).map(e=>e.content).join(" "),[t]),h=(0,r.c)(v)+c+p,x=(0,l.useMemo)(()=>{var e,t;let r=null==a?void 0:a.filter(e=>e.type===n.Fg.GITHUB),s=null==a?void 0:a.filter(e=>e.type!==n.Fg.GITHUB),l=null!==(e=null==r?void 0:r.map(e=>e.status.current_size_bytes).filter(e=>!!e&&"number"==typeof e).reduce((e,t)=>e+t,0))&&void 0!==e?e:0,o=null!==(t=null==s?void 0:s.map(e=>e.status.current_size_bytes).filter(e=>!!e&&"number"==typeof e).reduce((e,t)=>e+t,0))&&void 0!==t?t:0;return Math.floor(l/i.dS+o/i.r6)},[a]),j=(0,l.useMemo)(()=>{var e;return null!==(e=null==a?void 0:a.filter(e=>e.type===n.Fg.GDRIVE).map(e=>e.config.uri))&&void 0!==e?e:[]},[a]),y=(0,f.mD)(j),b=(0,l.useMemo)(()=>{let e=y.map(e=>{let{data:t,isLoading:a}=e;return a||!t?0:t.size||0}).reduce((e,t)=>e+t,0);return e?e/i.r6:0},[y]),M=(0,l.useMemo)(()=>{var e;return null!==(e=null==a?void 0:a.filter(e=>e.type===n.Fg.OUTLINE).map(e=>e.config.outline_uri))&&void 0!==e?e:[]},[a]),N=(0,f.RS)(M),k=(0,l.useMemo)(()=>{let e=N.map(e=>{let{data:t,isLoading:a}=e;return a||!t?0:t.size||0}).reduce((e,t)=>e+t,0);return e?e/i.r6:0},[N]);return void 0!==t?void 0!==a?h+x+b+k:h:void 0!==a?x:void 0},x=e=>{let{mutate:t}=(0,c.dY)(e),{data:a}=(0,c.Yc)(e);return()=>{t({is_starred:!(null==a?void 0:a.is_starred)})}}},47712:function(e,t,a){a.d(t,{G:function(){return l},k:function(){return o}});var r=a(27218),s=a(81695),i=a(40950),n=a(32559);let l=()=>{let e=(0,r.Cf)(),t=(0,i.Z)(),a=(0,s.useSearchParams)(),l={};return e&&(l.createProjectTitle=t.formatMessage({defaultMessage:"Create a project",id:"HR5A+UPiIu"})),a.get("projectStarter")===n.nL.Study&&(l.createProjectTitle=t.formatMessage({defaultMessage:"Create a project for your course",id:"ix8V6MFtMv"}),l.createProjectNameLabel=t.formatMessage({defaultMessage:"What is the project name?",id:"y57H11qmOg"}),l.createProjectNamePlaceholder=t.formatMessage({defaultMessage:"Enter a name",id:"uqBy7yud/k"}),l.createProjectDescriptionLabel=t.formatMessage({defaultMessage:"What course are you studying?",id:"v36OurBGgA"}),l.createProjectDescriptionPlaceholder=t.formatMessage({defaultMessage:"Enter course name, code, or description",id:"V03BAW1o2z"})),l},o=e=>{let t=(0,i.Z)();if(!e)return{};let a=e.type,r=e.subtype,s={};return a===n.cd.Student&&r===n.nL.Study&&(s.projectKnowledgeTitle=t.formatMessage({defaultMessage:"Course materials",id:"BcuHHKvbga"}),s.projectNoKnowledgeCanAddMessage=t.formatMessage({defaultMessage:"Add course materials like syllabi, lecture notes or text-book excerpts to help Claude understand your coursework",id:"io3bhM43Q2"}),s.projectNoKnowledgeCantAddMessage=t.formatMessage({defaultMessage:"No course materials added yet.",id:"DMTVvhrQWQ"}),s.projectNoChatsMessage=t.formatMessage({defaultMessage:"Chats you've had with Claude about your coursework show up here. All chats will use your uploaded course materials.",id:"veDpYRV135"})),s}},35548:function(e,t,a){a.d(t,{Rv:function(){return n},ZJ:function(){return i},ZW:function(){return d},hn:function(){return l},y1:function(){return o}});var r=a(66557);a(14448);var s=a(7653);let i=e=>5e3*e.document_asset.page_count,n=e=>Math.min(1600,Math.ceil(e.preview_asset.image_width*e.preview_asset.image_height/700)),l=e=>e.reduce((e,t)=>e+n(t),0),o=(e,t,a)=>{let i=(0,r.c)(e),n=(0,s.useMemo)(()=>a.map(e=>e.extracted_content).join(" "),[a]);return i+(0,r.c)(n)+l(t)},d=(e,t)=>e/t>.4},63731:function(e,t,a){a.d(t,{Y7:function(){return y},hK:function(){return M},qg:function(){return b}});var r=a(27573),s=a(27218),i=a(5984),n=a(70354),l=a(10228),o=a(64047),d=a(7533),u=a(72243),c=a(10607),f=a(81695),m=a(7653),g=a(45790),p=a(40950),v=a(59016),h=a(32559),x=a(57393),j=a(53545);let y=(0,r.jsx)(g.Z,{defaultMessage:"Everyone in your organization can view and use this project",id:"o6dyBu92Ad"}),b=(0,r.jsx)(g.Z,{defaultMessage:"Only invited members can view and use this project",id:"r65HKpZU8I"});function M(e){var t,a,M,N,k;let{isAddingSyncSources:w=!1,syncSources:Z=[],onProjectCreated:_,onError:S,onCancel:C,strings:z}=e,P=(0,p.Z)(),L=(0,s.Cf)(),R=(0,f.useSearchParams)().get("projectStarter"),A=(0,j.R)(),E=R?A.options.find(e=>e.id===R):void 0,{prompt:K,type:q,id:D}=null!=E?E:{},[I,U]=(0,m.useState)({name:"",description:"",prompt_template:K,type:q,subtype:D,is_private:!0}),[W,B]=(0,m.useState)({}),[H,T]=(0,m.useState)(!1),F=Z.some(e=>e.type===l.Fg.GITHUB),O=Z.some(e=>e.type===l.Fg.GDRIVE),Q=F&&O?(0,r.jsx)(g.Z,{defaultMessage:"Github and GDrive attachments can only be added to private projects",id:"rqNebqAfPF"}):F?(0,r.jsx)(g.Z,{defaultMessage:"Github attachments can only be added to private projects",id:"eyujXWQfg4"}):O?(0,r.jsx)(g.Z,{defaultMessage:"GDrive attachments can only be added to private projects",id:"DMBgAV43lL"}):(0,r.jsx)(g.Z,{defaultMessage:"Some of these attachments can only be added to private projects",id:"2ssKO1VReL"}),{mutateAsync:V}=(0,h.Qs)(),{activeOrganization:G}=(0,s.t)(),{data:Y}=(0,h.Kn)(),{account:J}=(0,s.t)(),{data:X,isLoading:$}=(0,h.O3)(),{data:ee}=(0,v.KJ)(),et=ee&&!w,ea=null==X?void 0:X.filter(e=>{var t;return(null===(t=e.creator)||void 0===t?void 0:t.uuid)===(null==J?void 0:J.uuid)&&!e.is_starter_project}),er=!$&&(null==ea?void 0:ea.length)===0,es=e=>t=>{U(a=>({...a,[e]:t.target.value})),B(t=>({...t,[e]:null}))},ei=e=>{U(t=>({...t,is_private:e.target.checked&&"private"===e.target.value}))},en=()=>{let e={};return""===I.name.trim()&&(e.name=P.formatMessage({defaultMessage:"Project name is required",id:"n5cqkMmIMW"})),B(e),0===Object.keys(e).length},el=async e=>{if(e.preventDefault(),!H&&en()){T(!0);try{let e=await V(I);_(e)}catch(e){S(e)}finally{T(!1)}}};return(0,r.jsxs)("form",{className:"grid grid-cols-1 gap-4",onSubmit:e=>el(e),children:[er&&(0,r.jsxs)("div",{className:"bg-bg-300 border-border-400/10 text-text-300 flex w-full flex-col items-start justify-start gap-2 rounded-xl border px-5 pb-5 pt-4 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 font-medium",children:[(0,r.jsx)(o.j,{size:16}),(0,r.jsx)(g.Z,{defaultMessage:"How to use projects",id:"moKJkVk/qB"})]}),L?(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("div",{children:(0,r.jsx)(g.Z,{defaultMessage:"Use Projects with your team to do things like:",id:"fcUpqajVgl"})}),(0,r.jsxs)("ul",{className:"list-disc pl-4",children:[(0,r.jsx)("li",{children:(0,r.jsx)(g.Z,{defaultMessage:"Query and analyze information about customers, sales calls, and project plans",id:"1YyB53/KOc"})}),(0,r.jsx)("li",{children:(0,r.jsx)(g.Z,{defaultMessage:"Upload files from your codebase to understand, improve, and contribute",id:"HXj87AQH0P"})}),(0,r.jsx)("li",{children:(0,r.jsx)(g.Z,{defaultMessage:"Generate analysis and reports from one consistent set of materials",id:"3XvEQYrcUv"})}),(0,r.jsx)("li",{children:(0,r.jsx)(g.Z,{defaultMessage:"Create content informed by company policies and documentation",id:"HrODk029zr"})})]}),(0,r.jsx)("p",{children:(0,r.jsx)(g.Z,{defaultMessage:"Start by creating a memorable title and description to organize your project. You can always edit it later.",id:"qEWJMy5mr7"})})]}):(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("p",{children:(0,r.jsx)(g.Z,{defaultMessage:"Projects help organize your work and leverage knowledge across multiple conversations. Upload docs, code, and files to create themed collections that Claude can reference again and again.",id:"7HFalNigyO"})}),(0,r.jsx)("p",{children:(0,r.jsx)(g.Z,{defaultMessage:"Start by creating a memorable title and description to organize your project. You can always edit it later.",id:"qEWJMy5mr7"})})]}),Y&&(0,r.jsx)("div",{children:(0,r.jsx)(g.Z,{defaultMessage:"Curious to learn more? <link>Try an example project</link>",id:"+AcqvUzRry",values:{link:e=>(0,r.jsx)(n.z,{variant:"underline",size:"unset",href:"/project/".concat(Y),children:e})}})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(i.oi,{name:"name",className:"w-full",label:null!==(t=z.createProjectNameLabel)&&void 0!==t?t:P.formatMessage({defaultMessage:"What are you working on?",id:"R2IogQsIBI"}),placeholder:null!==(a=z.createProjectNamePlaceholder)&&void 0!==a?a:P.formatMessage({defaultMessage:"Name your project",id:"BtIbm/e/WX"}),size:"lg",onChange:es("name"),error:!!W.name,"data-1p-ignore":!0}),W.name&&(0,r.jsx)("div",{className:"text-danger-100 mt-1 text-right text-xs font-medium",children:W.name})]}),(0,r.jsx)("div",{children:(0,r.jsx)(i.Kx,{name:"description",className:"w-full",label:null!==(M=z.createProjectDescriptionLabel)&&void 0!==M?M:P.formatMessage({defaultMessage:"What are you trying to achieve?",id:"RPsTh+NBxY"}),placeholder:null!==(N=z.createProjectDescriptionPlaceholder)&&void 0!==N?N:P.formatMessage({defaultMessage:"Describe your project, goals, subject, etc...",id:"WStTnUWlP8"}),minRows:3,onChange:es("description"),error:W.description})}),L?(0,r.jsxs)("fieldset",{children:[(0,r.jsx)("div",{className:"mb-2 text-sm font-medium",children:(0,r.jsx)(g.Z,{defaultMessage:"Visibility",id:"JAkIqbzRj5"})}),(0,r.jsxs)("label",{className:(0,c.Z)("mb-2 flex w-full gap-2",!et&&"opacity-40"),children:[(0,r.jsx)("input",{name:"visibility",className:"mt-0.5",type:"radio",value:"open",checked:!I.is_private,onChange:ei,disabled:!et}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsx)(d.$,{size:16,className:"-mt-1 mr-1 inline-block"}),null!==(k=null==G?void 0:G.name)&&void 0!==k?k:(0,r.jsx)(g.Z,{defaultMessage:"Organization",id:"K56Dims7Up"})]}),(0,r.jsx)("div",{className:"text-text-300 text-xs",children:ee?w?Q:y:(0,r.jsx)(g.Z,{defaultMessage:"Public projects are disabled by your organization",id:"c2HBgZtgDR"})})]})]}),(0,r.jsxs)("label",{className:"flex w-full gap-2",children:[(0,r.jsx)("input",{name:"visibility",className:"mt-0.5",type:"radio",value:"private",checked:I.is_private,onChange:ei}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsx)(u.$,{size:16,className:"-mt-1 mr-1 inline-block"}),(0,r.jsx)(g.Z,{defaultMessage:"Private",id:"viXE3205/2"})]}),(0,r.jsx)("div",{className:"text-text-300 text-xs",children:b})]})]})]}):null,(0,r.jsxs)("div",{className:"mt-2 flex justify-end gap-2",children:[(0,r.jsx)(n.z,{onClick:C,href:C?void 0:"/projects",variant:"secondary",disabled:H,children:(0,r.jsx)(g.Z,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,r.jsx)(x.e,{children:(0,r.jsx)(n.z,{type:"submit",loading:H,children:(0,r.jsx)(g.Z,{defaultMessage:"Create Project",id:"9cabk2BEKt"})})})]})]})}},57393:function(e,t,a){a.d(t,{e:function(){return d}});var r=a(27573),s=a(32737),i=a(88146),n=a(7653),l=a(45790),o=a(15350);let d=e=>{let t,{children:a,enabledWrapperStyles:d="",disabledWrapperStyles:u=""}=e,{createProjectsDisabled:c}=(0,o.Z0)();return t=c?u:d,(0,r.jsx)(s.u,{tooltipContent:c?(0,r.jsx)(l.Z,{defaultMessage:"You have reached the maximum number of projects. <upgradeLink>Upgrade</upgradeLink> for more.",id:"8XKCSUNy79",values:{upgradeLink:e=>(0,r.jsx)(i.default,{href:"/upgrade",className:"underline",children:e})}}):null,side:"bottom",children:(0,r.jsx)("div",{className:t,children:n.cloneElement(a,{disabled:c})})})}},53545:function(e,t,a){a.d(t,{N:function(){return p},R:function(){return g}});var r=a(27573),s=a(27218),i=a(81695),n=a(40950),l=a(15992),o=a(32559),d=a(10607),u=a(50294);a(7653);var c=a(57393);let f=e=>{let{icon:t,title:a,description:s,onClick:i,disabled:n=!1}=e;return(0,r.jsxs)("button",{className:"flex flex-row sm:flex-col items-center sm:items-start p-4 w-full",onClick:i,disabled:n,children:[(0,r.jsx)("div",{className:"relative mb-1 mr-2",children:(0,r.jsx)(u.default,{src:t,height:50,width:50,alt:"",style:{opacity:n?"50%":"100%"}})}),(0,r.jsxs)("div",{className:"flex flex-col items-start w-full",children:[(0,r.jsx)("h3",{className:(0,d.Z)("text-md font-medium text-text-200 text-left",n&&"text-text-500"),children:a}),(0,r.jsx)("p",{className:(0,d.Z)("text-sm text-text-200 text-left",n&&"text-text-500"),children:s})]})]})},m=e=>{let{...t}=e;return(0,r.jsx)(c.e,{enabledWrapperStyles:"from-bg-100 to-bg-100/30 border-0.5 border-border-300 hover:from-bg-000/70 hover:to-bg-000/50 hover:border-border-300/30 text-text-200 hover:text-text-100 relative flex cursor-pointer flex-col gap-1.5 rounded-xl bg-gradient-to-b transition-all ease-in-out hover:shadow-sm active:scale-[0.995] md:gap-2 overflow-hidden",disabledWrapperStyles:"border-0.5 border-border-300 text-text-200 relative flex cursor-pointer flex-col gap-1.5 rounded-xl md:gap-2 overflow-hidden",children:(0,r.jsx)(f,{...t})})},g=()=>{let e=(0,l.useConfig)("claude_ai_experience").config,t=(0,s.Zd)(),a=(0,n.Z)(),r=e.get("project_starter_prompts",{});return t?{title:a.formatMessage({defaultMessage:"Set up Claude for your classes, career, and research",id:"aU/3NrmiTd"}),options:[{icon:"/images/illustrations/edu/edu-lightbulb.svg",title:a.formatMessage({defaultMessage:"Study project",id:"SDlohOAVzo"}),description:a.formatMessage({defaultMessage:"Learn and master any subject",id:"3vYdF/hF/f"}),prompt:r[o.nL.Study]||"",id:o.nL.Study,type:o.cd.Student},{icon:"/images/illustrations/edu/edu-paper-and-quill.svg",title:a.formatMessage({defaultMessage:"Career project",id:"MsM+7biLzH"}),description:a.formatMessage({defaultMessage:"Find the next step for your career",id:"v6qrZ8g/Vy"}),prompt:r[o.nL.Career]||"",id:o.nL.Career,type:o.cd.Student},{icon:"/images/illustrations/edu/edu-paper-and-magnifying-glass.svg",title:a.formatMessage({defaultMessage:"Research project",id:"OR/ar3drnQ"}),description:a.formatMessage({defaultMessage:"Analyze and organize research",id:"R19a/TH47z"}),prompt:r[o.nL.Research]||"",id:o.nL.Research,type:o.cd.Student}]}:{title:"",options:[]}},p=()=>{let e=(0,i.useRouter)(),t=g();return t.options.length?(0,r.jsxs)("div",{className:"w-full mt-6",children:[(0,r.jsx)("h2",{className:"text-sm text-text-200 font-medium leading-6 ml-1",children:t.title}),(0,r.jsx)("div",{className:"grid gap-4 sm:grid-cols-3 w-full mt-3",children:t.options.map(t=>(0,r.jsx)(m,{icon:t.icon,title:t.title,description:t.description,onClick:()=>e.push("/projects/create?projectStarter="+t.id)},t.id))})]}):null}},66557:function(e,t,a){a.d(t,{c:function(){return s}});var r=a(7653);function s(e){let{skip:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[s,i]=(0,r.useState)(0),n=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(!t){if(!n.current){if("undefined"==typeof Worker)return;let e=new Worker(a.tu(new URL(a.p+a.u(6344),a.b)));e.onmessage=e=>i(e.data),n.current=e}return()=>{var e;null===(e=n.current)||void 0===e||e.terminate(),n.current=null}}},[t]),(0,r.useEffect)(()=>{n.current&&n.current.postMessage(e)},[e]),s}}}]);