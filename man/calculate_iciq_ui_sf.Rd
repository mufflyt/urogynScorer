% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calculate_iciq_ui_sf.R
\name{calculate_iciq_ui_sf}
\alias{calculate_iciq_ui_sf}
\title{Calculate ICIQ-UI SF (International Consultation on Incontinence Questionnaire-Urinary
Incontinence Short Form) Scores}
\usage{
calculate_iciq_ui_sf(
  questionnaire_data,
  id_column = NULL,
  frequency_item = "iciq_1",
  volume_item = "iciq_2",
  impact_item = "iciq_3",
  situation_prefix = "iciq_4_",
  calculate_situations = TRUE,
  missing_threshold = 0,
  verbose = FALSE
)
}
\arguments{
\item{questionnaire_data}{A data frame containing ICIQ-UI SF item responses. Column
names should follow the pattern specified by the parameters or default structure.}

\item{id_column}{Character string specifying the column name containing patient
identifiers. If NULL (default), no ID column is used.}

\item{frequency_item}{Character string specifying the column name containing the
frequency question (item 1). Default is "iciq_1".}

\item{volume_item}{Character string specifying the column name containing the
leakage amount question (item 2). Default is "iciq_2".}

\item{impact_item}{Character string specifying the column name containing the
quality of life impact question (item 3). Default is "iciq_3".}

\item{situation_prefix}{Character string specifying the prefix for situation
columns (item 4). Default is "iciq_4_".}

\item{calculate_situations}{Logical indicating whether to analyze incontinence
situations. Default is TRUE.}

\item{missing_threshold}{Numeric value between 0 and 1 specifying the maximum
proportion of missing values allowed for the core items (1-3). Default is 0.0 (no
missing values allowed).}

\item{verbose}{Logical indicating whether to display detailed logging information.
Default is FALSE.}
}
\value{
A data frame containing the original data plus additional columns:
\itemize{
\item \strong{iciq_score}: The ICIQ-UI SF total score (sum of items 1-3),
ranging from 0-21, with higher scores indicating greater severity.
\item \strong{frequency_score}: Score for urinary frequency (item 1, 0-5).
\item \strong{volume_score}: Score for leakage amount (item 2, 0-6).
\item \strong{impact_score}: Score for quality of life impact (item 3, 0-10).
\item \strong{iciq_missing}: Count of missing core items (1-3).
\item \strong{iciq_valid}: Logical indicating if the score is valid.
\item \strong{situation_*}: If calculate_situations=TRUE, columns for each
incontinence situation.
}
}
\description{
Calculates scores for the ICIQ-UI SF, a validated instrument measuring urinary
incontinence symptoms and their impact on quality of life. The function includes
robust validation, handles missing data according to scoring guidelines, and provides
detailed analysis of incontinence situations.
}
\details{
The ICIQ-UI SF consists of 4 items:
\itemize{
\item \strong{Item 1}: Frequency of urinary leakage (scored 0-5)
\item \strong{Item 2}: Amount of leakage (scored 0-6)
\item \strong{Item 3}: Impact on quality of life (scored 0-10)
\item \strong{Item 4}: Situations when leakage occurs (not scored, diagnostic only)
}

The total ICIQ-UI SF score is the sum of items 1-3, ranging from 0-21:
\itemize{
\item 1-5: Mild urinary incontinence
\item 6-12: Moderate urinary incontinence
\item 13-21: Severe urinary incontinence
}

Missing data handling:
\itemize{
\item By default, if any items 1-3 are missing, the score is set to NA
\item This can be customized with the missing_threshold parameter
\item Missing situation items (item 4) are treated as "not selected"
}
}
\examples{
# Example 1: Basic usage with minimal data
iciq_data <- data.frame(
  patient_id = c("P001", "P002", "P003"),
  iciq_1 = c(2, 3, 1),     # Frequency (0-5)
  iciq_2 = c(4, 2, 0),     # Volume (0-6)
  iciq_3 = c(6, 8, 3),     # Impact (0-10)
  iciq_4_1 = c(1, 0, 0),   # Situation: leaks before reaching toilet
  iciq_4_2 = c(0, 1, 0),   # Situation: leaks when coughing/sneezing
  iciq_4_3 = c(0, 0, 1),   # Situation: leaks when asleep
  iciq_4_4 = c(0, 1, 0),   # Situation: leaks with physical activity
  iciq_4_5 = c(1, 0, 0),   # Situation: leaks when finished urinating
  iciq_4_6 = c(0, 0, 0),   # Situation: leaks for no obvious reason
  iciq_4_7 = c(0, 0, 0)    # Situation: leaks all the time
)

iciq_results <- calculate_iciq_ui_sf(
  questionnaire_data = iciq_data,
  id_column = "patient_id",
  verbose = TRUE
)
print(iciq_results)

# Example 2: With data containing missing values
iciq_data_missing <- data.frame(
  patient_id = c("P001", "P002", "P003"),
  iciq_1 = c(2, NA, 1),    # Frequency (0-5)
  iciq_2 = c(4, 2, 0),     # Volume (0-6)
  iciq_3 = c(6, 8, NA),    # Impact (0-10)
  iciq_4_1 = c(1, 0, 0),   # Situation: leaks before reaching toilet
  iciq_4_2 = c(0, 1, 0),   # Situation: leaks when coughing/sneezing
  iciq_4_3 = c(0, NA, 1)   # Situation: leaks when asleep
)

iciq_results_missing <- calculate_iciq_ui_sf(
  questionnaire_data = iciq_data_missing,
  id_column = "patient_id",
  missing_threshold = 0.33,  # Allow up to 33\% missing items
  verbose = TRUE
)
print(iciq_results_missing)

# Example 3: With alternative column naming convention
alt_iciq_data <- data.frame(
  record_id = c("R1", "R2", "R3"),
  frequency = c(2, 3, 1),      # Frequency (0-5)
  amount = c(4, 2, 0),         # Volume (0-6)
  qol_impact = c(6, 8, 3),     # Impact (0-10)
  sit_toilet = c(1, 0, 0),     # Situation: before reaching toilet
  sit_cough = c(0, 1, 0),      # Situation: when coughing/sneezing
  sit_sleep = c(0, 0, 1)       # Situation: when asleep
)

iciq_results_alt <- calculate_iciq_ui_sf(
  questionnaire_data = alt_iciq_data,
  id_column = "record_id",
  frequency_item = "frequency",
  volume_item = "amount",
  impact_item = "qol_impact",
  situation_prefix = "sit_",
  verbose = TRUE
)
print(iciq_results_alt)

}
\references{
Avery K, Donovan J, Peters TJ, Shaw C, Gotoh M, Abrams P (2004).
ICIQ: a brief and robust measure for evaluating the symptoms and impact
of urinary incontinence. \emph{Neurourology and Urodynamics, 23}(4), 322-330.
}
